<div class="flex flex-col items-center justify-center min-h-screen">

  <p-messages
    [(value)]="messages"
    [closable]="false"
    [enableService]="false"/>

  <p-card header="Welcome to Fihub" class="container-2xl">

    <div class="flex flex-col gap-4">

      <!-- Firstname -->
      <div class="flex flex-col gap-2">
        <label for="firstname">Firstname</label>
        <input [(ngModel)]="user.first_name"
               [autofocus]="true"
               [disabled]="loading"
               [ngClass]="{'ng-invalid': error}"
               pInputText
               type="text"
               id="firstname"
               placeholder="Firstname"
        />
      </div>

      <!-- Lastname -->
      <div class="flex flex-col gap-2">
        <label for="lastname">Lastname</label>
        <input [(ngModel)]="user.last_name"
               [autofocus]="true"
               [disabled]="loading"
               [ngClass]="{'ng-invalid': error}"
               pInputText
               type="text"
               id="lastname"
               placeholder="Lastname"
        />
      </div>

      <!-- Email -->
      <div class="flex flex-col gap-2">
        <label for="email">Email</label>
        <input [(ngModel)]="user.email"
               [autofocus]="true"
               [disabled]="loading"
               [ngClass]="{'ng-invalid': error}"
               pInputText
               type="text"
               id="email"
               placeholder="Email"
        />
      </div>

      <!-- Password -->
      <div class="flex flex-col gap-2">
        <label for="password">Password</label>
        <p-password [(ngModel)]="user.password"
                    [disabled]="loading"
                    [toggleMask]="true"
                    [ngClass]="{'ng-invalid': error}"
                    autocomplete="password"
                    id="password"
                    placeholder="Password">
          <ng-template pTemplate="header">
            <h6 class="text-sm font-semibold">Pick a password</h6>
          </ng-template>
          <ng-template pTemplate="footer">
            <p-divider />
            <p class="mt-2 mb-4">Suggestions</p>
            <ul class="pl-2 ml-2 mt-0 list-disc" style="line-height: 1.5">
              <li>At least one lowercase</li>
              <li>At least one uppercase</li>
              <li>At least one numeric</li>
              <li>Minimum 8 characters</li>
            </ul>
          </ng-template>
        </p-password>
      </div>

      <!-- Confirmation -->
      <div class="flex flex-col gap-2">
        <label for="confirmation">Confirmation</label>
        <p-password [(ngModel)]="confirmation"
                    [disabled]="loading"
                    [feedback]="false"
                    [toggleMask]="true"
                    [ngClass]="{'ng-invalid': error}"
                    id="confirmation"
                    placeholder="Confirmation"
        />
      </div>

      <!-- Agreement -->
      <div class="flex gap-2">
        <p-checkbox [(ngModel)]="agreement"
                    [binary]="true"
                    inputId="agreement" />
        <label for="agreement">I agree to Fihub's  and .</label>
      </div>
    </div>

    <ng-template pTemplate="footer">
      <div class="flex gap-3 mt-1">
        <p-button (click)="register()"
                  [disabled]="!user.first_name || !user.last_name || !user.email ||!user.password || !confirmation || loading"
                  label="Register"
                  class="w-full"
                  styleClass="w-full"
                  pRipple/>
      </div>
    </ng-template>
  </p-card>

  <div class="flex items-center justify-center">
    <p-button routerLink="/auth" label="Create an account" [link]="true" />
    or
    <p-button label="Forgot password" [link]="true" />
  </div>
</div>
